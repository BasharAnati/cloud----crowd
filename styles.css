/* =========================
   Base / Reset
   ========================= */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Tajawal',sans-serif;}
body{background-color:#f4f7fa;color:#333;line-height:1.6;}

/* =========================
   Navbar
   ========================= */
.navbar{
  position:sticky;top:0;z-index:90;display:flex;align-items:center;gap:16px;
  justify-content:space-between;padding:14px 20px;
  background:linear-gradient(90deg,rgba(14,58,120,.95),rgba(12,40,90,.95));
  color:#fff;box-shadow:0 6px 18px rgba(2,6,23,.15);backdrop-filter:blur(6px);
}
.brand{display:flex;gap:12px;align-items:center;}
.logo{
  width:44px;height:44px;border-radius:10px;
  background:linear-gradient(135deg,var(--sky,#38bdf8),var(--accent,#8b5cf6));
  display:grid;place-items:center;color:#fff;font-weight:700;
  box-shadow:0 6px 18px rgba(139,92,246,.2);transition:transform .3s ease;
}
.logo:hover{transform:translateY(-3px) rotate(-4deg);}
.brand h1{font-size:18px;margin:0;font-weight:700;letter-spacing:.2px;color:#fff;}
.brand p{margin:0;font-size:12px;color:rgba(255,255,255,.9);}

/* centered company logo (clickable) */
.nav-center-logo{
  position:absolute;left:50%;transform:translateX(-50%);
  height:72px;object-fit:contain;user-select:none;cursor:pointer;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.25));
}

/* Generic blocks */
.quote{
  text-align:center;padding:20px;background:#e0e7ff;color:#1e3a8a;font-style:italic;
  font-size:18px;margin:20px;border-radius:8px;
}
.container{max-width:1200px;margin:0 auto;padding:20px;}
.sections{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px;margin-bottom:40px;
}
.section-card{
  background:#fff;border-radius:8px;padding:20px;text-align:center;
  box-shadow:0 4px 6px rgba(0,0,0,.1);transition:transform .3s ease;cursor:pointer;
}
.section-card:hover{transform:translateY(-5px);}
.section-card h2{color:#1e3a8a;margin-bottom:10px;}
.section-card p{color:#666;}

.ticket-list{display:block;}

/* Buttons row */
.buttons-container{
  display:flex;justify-content:center;align-items:center;margin-bottom:20px;gap:20px;
}
.add-ticket-btn,.back-btn{
  color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;min-width:150px;text-align:center;
}
.add-ticket-btn{background:#16a34a;}
.back-btn{background:#dc2626;margin-right:auto;}
.add-ticket-btn:hover{background:#22c55e;}
.back-btn:hover{background:#ef4444;}

/* ============ Kanban: one row, fits page (no scrollbar) ============ */
#tickets{
  --cols: 6;
  --page-gutter: 0px;
  display:grid;
  grid-template-columns: repeat(var(--cols), minmax(0, 1fr));
  gap:12px;
  align-items:start;
  width:100%;
  padding-inline: var(--page-gutter);
  box-sizing:border-box;
  overflow-x:hidden;
}

section.group{
  background:transparent;
  border-radius:0;
  padding:0;
}

.col-header{margin:0 0 6px 0;}
.col-header-inner{
  display:flex;align-items:center;justify-content:space-between;gap:8px;
  width:100%;padding:6px 10px;background:#e9edf6;color:#0f172a;border-radius:999px;min-height:30px;
}
.col-title{
  font-size:12.5px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  max-width:calc(100% - 42px);
}
.col-count{
  display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;border-radius:999px;
  background:#fff;border:1px solid #dbe3f1;color:#0f172a;font-size:11px;font-weight:800;line-height:20px;
}

.col-underbar{height:5px;margin:4px 6px 8px;background:#e9edf6;border-radius:999px;}

.ticket-card{
  width:100%;
  min-width:0;
  margin-bottom:8px;border-radius:9px;border:1px solid #e6e9f0;box-shadow:0 1px 2px rgba(2,6,23,.05);background:#fff;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease;
}
.ticket-card:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgba(2,6,23,.10);}

.card-top{height:4px;border-radius:9px 9px 0 0;background:transparent;}

.card-band{
  margin:6px 8px 0;
  border-radius:8px;
  padding:6px 10px;
  display:flex;align-items:center;justify-content:space-between;
  color:#fff;font-weight:800;font-size:12.5px;letter-spacing:.2px;
}

.card-head{display:flex;justify-content:space-between;align-items:center;padding:6px 10px 0 10px;}
.card-time{font-size:11px;font-weight:800;color:#475569;}
.card-main{padding:6px 10px 8px 10px;font-size:12.5px;line-height:1.35;}
.card-main p{margin:3px 0;}
.card-main strong{color:#1e3a8a;}

.card-foot{display:none;}
.card-case{display:none;}

/* Modal */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  justify-content:center;
  align-items:center;
  z-index:1000;
}
.modal-content{
  background:#fff;
  padding:20px;
  border-radius:8px;
  width:90%;
  max-width:600px;
  max-height:80vh;
  overflow-y:auto;
}

/* Colors for band per status */
.band-taken { background: #1a9324; }
.band-active { background: #1b16a3; }
.band-not-active { background: #f91616; }
.band-open { background: #8b4513; }
.band-follow-up-needed { background: #8b4513; }
.band-no-response { background: #8b4513; }
.band-call-back-scheduled { background: #8b4513; }
.band-in-progress { background: #8b4513; }
.band-escalated { background: #1b16a3; }
.band-resolved { background: #8b4513; }
.band-perfect-feedback { background: #8b4513; }
.band-no-call-needed { background: #4b4b4b; }
.band-pending-call { background: #1b16a3; }
.band-called-no-answer { background: #ffd700; }
.band-called-customer-refused-return { background: #f91616; }
.band-scheduled-for-pickup { background: #001f5b; }
.band-scheduled-for-delivery { background: #001f5b; }
.band-issue-needs-follow-up { background: #ff8c00; }
.band-returned { background: #1a9324; }
.band-closed { background: #1a9324; }
.band-under-review { background: #f91616; }
.band-uncategorized { background: #8b4513; }

body.drawer-open{overflow:hidden;}
.drawer{position:fixed;inset:0;display:none;z-index:1200;}
.drawer.open{display:block;}
.drawer-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(1.5px);opacity:0;transition:opacity .25s ease;}
.drawer.open .drawer-backdrop{opacity:1;}
.drawer-panel{
  position:absolute;top:0;right:0;width:min(480px,100%);height:100%;background:#fff;
  box-shadow:-10px 0 30px rgba(2,6,23,.25);transform:translateX(100%);transition:transform .28s ease;display:flex;flex-direction:column;
}
.drawer.open .drawer-panel{transform:translateX(0);}
.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #e5e7eb;}
.drawer-header h2{margin:2px 0 0;font-size:18px;color:#0f172a;}
.drawer-case{font-size:11px;color:#475569;letter-spacing:.3px;}
.drawer-close{background:transparent;border:none;font-size:26px;line-height:1;cursor:pointer;color:#334155;padding:0 6px;border-radius:8px;}
.drawer-close:hover{background:#f1f5f9;}
.drawer-meta{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px 12px;padding:12px 14px;border-bottom:1px solid #e5e7eb;background:#f8fafc;}
.drawer-meta .meta-item strong{color:#1e3a8a;}
.meta-badge{display:inline-block;padding:3px 9px;border-radius:999px;background:#1e3a8a;color:#fff;font-size:11px;font-weight:700;}
.drawer-body{padding:12px 14px 8px;overflow:auto;flex:1 1 auto;}
.drawer-body p{margin-bottom:8px;}
.drawer-body strong{color:#1e3a8a;}
.drawer-actions{padding:12px 14px 14px;border-top:1px solid #e5e7eb;}

/* ===== شارة الحالة داخل الدروار تاخذ لون الـ band وتظل الكتابة بيضة ===== */
.drawer .meta-badge{
  /* لا نحدد background حتى لا نلغي لون band-*. فقط نثبّت لون النص. */
  color:#fff;
}

/* مربع الملاحظات في نهاية التفاصيل */
.note-box{
  background:#fff8e1;
  border:1px solid #facc15;
  border-radius:8px;
  padding:12px 14px;
  margin-top:14px;
  color:#92400e;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
}
.note-box .note-title{
  font-weight:800;
  margin-bottom:6px;
  color:#b45309;
}
.note-box .note-text{
  white-space:pre-wrap;
  line-height:1.5;
}

.board,
.kanban-board {
  display:flex;
  align-items:flex-start;
  gap:24px;
}
.column { display:flex; flex-direction:column; gap:12px; flex:0 0 320px; }
.column-header{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:10px 14px; min-height:48px; border-radius:10px; background:#eef2ff; box-shadow:0 2px 6px rgba(0,0,0,.06) inset;
}
.column-header .title{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;}
.column-header .count{flex:0 0 auto;display:inline-flex;align-items:center;justify-content:center;padding:0 8px;height:22px;border-radius:999px;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.08);font-weight:700;}
.card{border-radius:12px;background:#fff;padding:14px;box-shadow:0 4px 12px rgba(2,6,23,.08);}
.column .card:first-child{margin-top:0;}

/* ===== Better form layout inside modal ===== */
.modal-content {
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(2,6,23,.25);
}
.modal-content h2 {
  margin: 0 0 14px;
  font-size: 22px;
  color: #0f172a;
}

/* Grid form */
.form-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(240px, 1fr));
  gap: 14px 16px;
}

/* Group */
.form-group{
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Make textareas / long fields span full width */
.form-group.full{
  grid-column: 1 / -1;
}

/* Labels */
.form-group label{
  font-weight: 700;
  color: #0f172a;
  font-size: 13px;
}

/* Inputs, selects, textareas */
.form-group input,
.form-group select,
.form-group textarea{
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #dbe3f1;
  border-radius: 10px;
  font-size: 14px;
  background: #fff;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.form-group textarea{
  min-height: 90px;
  resize: vertical;
}

/* Focus style */
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus{
  border-color: #93c5fd;
  box-shadow: 0 0 0 3px rgba(59,130,246,.15);
}

/* Placeholder color */
.form-group input::placeholder{
  color: #94a3b8;
}

/* Actions row */
.modal .form-actions{
  grid-column: 1 / -1;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 6px;
}
.modal .submit-btn,
.modal .cancel-btn{
  padding: 10px 16px;
  border-radius: 10px;
  font-weight: 700;
}

/* ====== Multi-select UI (dropdown) ====== */
.multi-select{
  position: relative;
  user-select: none;
}
.multi-select .selected{
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  min-height: 40px;
  padding: 10px 12px;
  border: 1px solid #dbe3f1;
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  color:#0f172a;
}
.multi-select .selected span{
  background:#eef2ff;
  border:1px solid #dbe3f1;
  border-radius:999px;
  padding:2px 8px;
  font-size:12px;
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.multi-select .selected span button{
  border:none; background:transparent; cursor:pointer; font-weight:700; line-height:1;
}

.multi-select .dropdown{
  display:none;
  position:relative;     /* داخل المودال بدون position: fixed */
  margin-top:8px;
  border:1px solid #dbe3f1;
  border-radius:10px;
  background:#fff;
  max-height:220px;
  overflow:auto;
  padding:6px;
  box-shadow:0 6px 18px rgba(2,6,23,.08);
}
.multi-select.open .dropdown{ display:block; }

.multi-select .dropdown label{
  display:flex; align-items:center; gap:8px;
  padding:6px 8px; border-radius:8px; cursor:pointer;
}
.multi-select .dropdown label:hover{
  background:#f1f5f9;
}
.multi-select .dropdown input{
  width:16px; height:16px; accent-color:#2563eb;
}

/* ===== Nicer ticket look ===== */
.ticket-card{
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
  background: #fff;
  transition: transform .12s ease, box-shadow .12s ease;
}
.ticket-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
}
.card-band{
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 12.5px;
  letter-spacing: .2px;
}
.card-head{ padding: 6px 12px 0 12px; }
.card-main{
  padding: 8px 12px 12px 12px;
  font-size: 13px;
  line-height: 1.45;
}
.card-main p{ margin: 3px 0; }
.card-time{ font-size: 11px; font-weight: 700; color: #6b7280; }

/* Responsive */
@media (max-width: 720px){
  .form-grid{ grid-template-columns: 1fr; }
}
@media (max-width:1280px){
  #tickets{ --page-gutter: 48px; }
}
@media (max-width:768px){
  #tickets{ --page-gutter: 16px; }
}
@media (max-width:600px){
  .sections{grid-template-columns:1fr;}
  .section-card{padding:15px;}
  .buttons-container{flex-direction:column;align-items:stretch;gap:10px;}
  .add-ticket-btn,.back-btn{margin-right:0;margin-bottom:10px;}
}
@media (max-width:820px){ .nav-center-logo{height:32px;} }

